# دليل نشر SpaceChat.live على منصة Glitch

هذا الدليل يشرح كيفية نشر تطبيق SpaceChat.live على منصة Glitch.

## الخطوات

### 1. إنشاء مشروع جديد على Glitch

1. قم بتسجيل الدخول إلى [Glitch](https://glitch.com)
2. اختر "New Project" ثم اختر "glitch-hello-node"
3. سيتم إنشاء مشروع Node.js أساسي

### 2. استيراد كود المشروع

هناك عدة طرق لاستيراد الكود:

#### الطريقة الأولى: استخدام Git

1. احصل على رابط مستودع Git الخاص بك
2. في Glitch، اضغط على اسم المشروع ثم اختر "Tools" ثم "Terminal"
3. قم بتنفيذ الأوامر التالية:
   ```bash
   git clone https://github.com/your-username/spacechat-live.git .
   ```

#### الطريقة الثانية: الرفع المباشر

1. قم بضغط مجلد المشروع كملف ZIP
2. في Glitch، اضغط على اسم المشروع ثم اختر "Assets"
3. اسحب ملف ZIP إلى نافذة Assets
4. في Terminal، نفذ:
   ```bash
   unzip /app/assets/your-file.zip -d /tmp
   cp -r /tmp/spacechat-live/* /app
   ```

### 3. تهيئة المشروع

بعد استيراد الكود، تأكد من وجود الملفات التالية:

- `glitch.json` - يحدد كيفية تشغيل المشروع على Glitch
- تعديل `package.json` ليحتوي على script مناسب للإنتاج

### 4. ضبط المتغيرات البيئية

يمكنك ضبط المتغيرات البيئية من خلال:

1. اضغط على اسم المشروع
2. اختر ".env"
3. أضف المتغيرات التالية:
   ```
   NODE_ENV=production
   ```

### 5. البناء والتشغيل

سيقوم Glitch تلقائيًا بتنفيذ:
1. `npm install` عند بدء المشروع
2. الأمر المحدد في `start` في ملف package.json

### 6. مشاكل شائعة وحلولها

#### مشكلة: الخادم لا يعمل
- تحقق من سجلات الخطأ في الطرفية (Terminal)
- تأكد من أن منفذ الخادم يستخدم `process.env.PORT`

#### مشكلة: مشاكل في الاتصال بـ Socket.IO
- تأكد من أن العميل يستخدم عنوان URL النسبي
- تحقق من إعدادات CORS

#### مشكلة: استهلاك الذاكرة
- Glitch له حدود موارد. قم بتحسين استخدام الذاكرة عن طريق:
  - تقليل حجم الصور والملفات
  - تحسين كود العميل والخادم

### 7. الحفاظ على استمرارية المشروع

Glitch يوقف المشاريع الخاملة بعد 5 دقائق. لإبقاء المشروع نشطًا:

1. استخدم خدمة مثل [UptimeRobot](https://uptimerobot.com) لإرسال ping كل 5 دقائق
2. أضف عنوان موقعك على Glitch إلى UptimeRobot

### 8. الحصول على رابط موقعك

بمجرد تشغيل المشروع، يمكنك الوصول إليه عبر:
- `https://project-name.glitch.me`

حيث `project-name` هو اسم مشروعك على Glitch. 